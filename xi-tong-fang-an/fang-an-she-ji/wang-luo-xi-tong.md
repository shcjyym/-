## 网络系统

网络系统有中控设备作为服务器，其他具有处理能力的显示设备以及带显示功能的电脑作为接收信息的对象。由中控中的视频播放器来统一控制所有的显示设备的播放进程以及后续操作。

图

网络系统中包含通信同步内容，是将各个显示设备校准达到视频无缝拼合的步骤之一。网络通信中将连接设备的网络参数进行设置，采用UDP通信的方式向端口内发送数据进行操作，为了实现各个分布的显示设备的同步调整，因而系统尽量减少发送的数据量，以单字节作为同步信号，收取信号的各个显示设备的处理部分以此信号为准进行时间校准和同步。

本系统采用UDP进行通信同步，主要原因如下：1、本系统运行过程中传送的网络数据主要以短消息为主，预处理视频已提前传输给相应的显示设备中，采用UDP更迅速。2、显示设备布局可为任意矩阵列形式，传输对象众多。具有大量的Client，使用UDP不会因网络阻塞降低主机发送速率，在一对多的相互通信中更为合适。3、发送的同步信号密集，丢失少量数据不会导致视频播放的画面有人眼可见的误差，因此UDP的丢包问题可以基本忽略。4、由于要做各部分视频同步操作，因此对响应时间有很高的要求，在通信协议中，UDP的响应速率明显优于其他通信协议。

本系统中采用的同步方式采用基于UDP的网络视频传输与同步的研究，针对在传输过程中的视频实时性以及各部分画面连续性方面的要求，系统采用了一种时间戳的方式来着力于解决视频同步问题，在视频数据的控制端即中控部分，为数据传输设定一个参考时钟，并在实际生成的数据流时相对参考时钟上的时间对每一帧的时间戳进行绑定；在视频数据的接收端，通过对读取目标视频块中的数据的时间戳值,比对当前参考时钟的时间来进行视频中的帧重组解决视频传输过程中的不同步问题。

| \[1\]刘爱菊.基于UDP的网络视频传输与同步的研究\[J\].网络安全技术与应用,2014\(03\):15-16. |
| :--- |


{注明：UDP通信与TCP通信的选择问题；Socket通信中使用UDP可能遇到的问题；Sorting流水线方式绘图；并行绘制可能遇到的问题。}

